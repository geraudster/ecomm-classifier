
## Quelques stats


```bash
	wc -l training.csv
```

```
## 15786886 training.csv
```

## Nettoyage des données


```bash
	csvclean -d ';' -u 3  training.csv
```

```
## No errors.
## 5595 rows were joined/reduced to 2304 rows after eliminating expected internal line breaks.
```

## Encore des stats


```bash
#	< training_out.csv  csvstat -d ';' -u 3 --count
```

Échantillonage: 


```bash
	< training_out.csv ~/data-science-at-the-command-line/tools/sample  -r 0.1 > sample_training_tmp.csv
	head -1 training_out.csv | csvstack - sample_training_tmp.csv > sample_training.csv
	wc -l sample_training.csv
	head sample_training.csv  | csvcut -c 1-4 | csvlook
```

```
## 1580689 sample_training.csv
## |----------------------+------------+------------+-------------|
## |  Identifiant_Produit | Categorie1 | Categorie2 | Categorie3  |
## |----------------------+------------+------------+-------------|
## |  12                  | 1000014006 | 1000015308 | 1000015309  |
## |  15                  | 1000014006 | 1000015308 | 1000015309  |
## |  46                  | 1000014006 | 1000015308 | 1000015309  |
## |  52                  | 1000014006 | 1000015308 | 1000015309  |
## |  69                  | 1000014006 | 1000015308 | 1000015309  |
## |  73                  | 1000014006 | 1000015308 | 1000015309  |
## |  74                  | 1000014006 | 1000015308 | 1000015309  |
## |  106                 | 1000014006 | 1000015308 | 1000015309  |
## |  109                 | 1000014006 | 1000015308 | 1000015309  |
## |----------------------+------------+------------+-------------|
```

## Requêtes


```bash
head -10000 sample_training.csv |  csvsql --query 'select Categorie1, count(Categorie2) from stdin group by Categorie1'
head -10000 sample_training.csv |  csvsql --query 'select Categorie2, count(Categorie3) from stdin group by Categorie2'
```

```
## Categorie1,count(Categorie2)
## 193,339
## 340,1
## 1338,23
## 1000000235,43
## 1000000269,62
## 1000001161,191
## 1000001359,3
## 1000001700,3432
## 1000001876,81
## 1000002192,136
## 1000002514,59
## 1000002677,143
## 1000003564,3
## 1000003923,14
## 1000003924,543
## 1000004369,16
## 1000004588,1
## 1000005258,18
## 1000006204,51
## 1000008694,13
## 1000009409,41
## 1000009575,1
## 1000009673,1
## 1000009977,44
## 1000010096,440
## 1000010220,208
## 1000010356,66
## 1000010560,116
## 1000010704,4
## 1000010900,32
## 1000011479,1
## 1000012099,69
## 1000012160,8
## 1000012491,2
## 1000013441,4
## 1000014006,3615
## 1000014375,97
## 1000014956,17
## 1000015738,36
## 1000016184,14
## 1000017026,3
## 1000017380,8
## Categorie2,count(Categorie3)
## 348,1
## 1448,244
## 1449,13
## 1450,82
## 1000000236,2
## 1000000270,4
## 1000000344,4
## 1000000361,5
## 1000000376,1
## 1000000392,13
## 1000000413,10
## 1000000430,2
## 1000000482,4
## 1000000503,8
## 1000000554,8
## 1000000565,3
## 1000000586,11
## 1000000600,3
## 1000000611,7
## 1000000653,6
## 1000000699,12
## 1000001162,18
## 1000001500,1
## 1000001528,2
## 1000001702,8
## 1000001711,2
## 1000001720,1
## 1000001745,2
## 1000001758,2
## 1000001777,7
## 1000001826,21
## 1000001833,6
## 1000001848,16
## 1000001877,14
## 1000001902,6
## 1000001924,9
## 1000001929,5
## 1000001938,3
## 1000001953,3
## 1000001978,21
## 1000002020,16
## 1000002100,4
## 1000002193,1
## 1000002245,13
## 1000002270,4
## 1000002306,9
## 1000002360,98
## 1000002388,4
## 1000002457,3
## 1000002485,1
## 1000002515,4
## 1000002543,3
## 1000002552,13
## 1000002573,4
## 1000002590,19
## 1000002614,5
## 1000002635,10
## 1000002678,2
## 1000002679,27
## 1000002680,5
## 1000002681,2
## 1000002682,25
## 1000002683,1
## 1000002684,33
## 1000002685,17
## 1000002686,16
## 1000002687,4
## 1000003399,7
## 1000003406,1
## 1000003411,2
## 1000003426,1
## 1000003436,8
## 1000003451,4
## 1000003586,2
## 1000003661,1
## 1000003916,2
## 1000003925,5
## 1000003927,2
## 1000003929,3
## 1000003930,15
## 1000003931,458
## 1000003932,22
## 1000003941,3
## 1000004043,4
## 1000004227,2
## 1000004272,1
## 1000004324,2
## 1000004370,13
## 1000004419,1
## 1000004473,2
## 1000004689,1
## 1000005269,1
## 1000005462,7
## 1000005539,4
## 1000005596,2
## 1000005707,3
## 1000006205,1
## 1000006304,3
## 1000006322,9
## 1000006343,3
## 1000006445,4
## 1000006544,1
## 1000006639,6
## 1000006765,1
## 1000006806,1
## 1000006955,2
## 1000007080,20
## 1000007337,2
## 1000007428,6
## 1000007549,1
## 1000008053,1
## 1000008695,3
## 1000008769,1
## 1000008842,4
## 1000008920,3
## 1000009004,1
## 1000009042,1
## 1000009481,41
## 1000009627,1
## 1000009674,1
## 1000009978,8
## 1000010019,19
## 1000010028,4
## 1000010044,6
## 1000010069,7
## 1000010097,424
## 1000010138,4
## 1000010161,12
## 1000010221,7
## 1000010282,29
## 1000010327,20
## 1000010357,18
## 1000010403,1
## 1000010490,6
## 1000010502,33
## 1000010509,15
## 1000010518,6
## 1000010523,9
## 1000010528,83
## 1000010537,34
## 1000010546,8
## 1000010553,5
## 1000010561,2
## 1000010572,2
## 1000010623,112
## 1000010705,2
## 1000010786,1
## 1000010846,1
## 1000010901,4
## 1000010932,1
## 1000010960,2
## 1000011011,6
## 1000011032,1
## 1000011043,18
## 1000011390,4
## 1000011422,24
## 1000011447,9
## 1000011472,1
## 1000011846,1
## 1000012102,69
## 1000012266,2
## 1000012303,2
## 1000012358,3
## 1000012363,1
## 1000012370,3
## 1000012407,1
## 1000012438,1
## 1000012539,2
## 1000012888,1
## 1000012893,2
## 1000012940,1
## 1000012943,1
## 1000012944,1
## 1000012945,8
## 1000012946,3349
## 1000012947,5
## 1000013558,2
## 1000013731,2
## 1000014007,2
## 1000014014,1
## 1000014021,26
## 1000014046,10
## 1000014064,1
## 1000014089,6
## 1000014106,14
## 1000014147,5
## 1000014158,1
## 1000014181,3
## 1000014196,12
## 1000014212,9
## 1000014221,5
## 1000014228,2
## 1000014242,3
## 1000014249,13
## 1000014271,2
## 1000014278,5
## 1000014289,3
## 1000014302,1
## 1000014315,2
## 1000014328,1
## 1000014376,7
## 1000014389,33
## 1000014473,3
## 1000014509,12
## 1000014536,9
## 1000014685,15
## 1000014773,4
## 1000014832,9
## 1000014913,1
## 1000014928,4
## 1000014957,4
## 1000014958,1
## 1000014959,1
## 1000014960,5
## 1000014961,1
## 1000014963,4
## 1000015078,1
## 1000015308,3488
## 1000015480,173
## 1000015739,6
## 1000015760,13
## 1000015773,15
## 1000015794,2
## 1000016185,2
## 1000016186,4
## 1000016187,1
## 1000016188,2
## 1000016189,1
## 1000016190,1
## 1000016191,1
## 1000016198,1
## 1000016199,1
## 1000016682,2
## 1000017036,3
## 1000017388,5
## 1000017490,3
```

